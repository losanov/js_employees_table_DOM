{"version":3,"sources":["scripts/main.js"],"names":["header","document","querySelector","th","querySelectorAll","tr","td","createElement","tBody","sortCol","list","col","reverse","toNumber","text","replace","sorted","children","sort","a","b","aCol","innerText","bCol","localeCompare","append","addEventListener","elem","index","target","cellIndex","classList","toggle","className","map","item","remove","add","tagName","row","closest","isActive","parentNode","form","label","btn","input","selectBar","option","body","setAttribute","formFields","textContent","cityList","toLowerCase","city","cloneNode","inputText","event2","preventDefault","cityValue","value","iName","iPosition","iOffice","iAge","iSalary","length","pushNotification","toLocaleString","newRow","i","forEach","e","posTop","posRight","title","description","type","div","innerHTML","style","top","right","setTimeout","event3","cell","cellText","cellInput","event4","key","inputValue","event5"],"mappings":"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","file":"main.149f392e.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst header = document.querySelector('thead');\nconst th = document.querySelectorAll('th');\nconst tr = document.querySelector('tr');\nconst td = document.createElement('td');\nconst tBody = document.querySelector('tbody');\n\n// sort\n\nheader.addEventListener('click', (elem) => {\n  const index = elem.target.cellIndex;\n\n  elem.target.classList.toggle('DESC');\n\n  if (elem.target.className === 'DESC') {\n    [...th].map(item => item.classList.remove('DESC'));\n    elem.target.classList.add('DESC');\n  }\n\n  if (elem.target.tagName === 'TH') {\n    sortCol(tBody, index, elem.target.className !== 'DESC');\n  }\n});\n\nfunction sortCol(list, col, reverse) {\n  function toNumber(text) {\n    return text.replace(/\\D+/g, '');\n  }\n\n  let sorted = [...list.children]\n    .sort((a, b) => {\n      const aCol = a.children[col].innerText;\n      const bCol = b.children[col].innerText;\n\n      if ((toNumber(aCol)) === '') {\n        return aCol.localeCompare(bCol);\n      } else {\n        return toNumber(aCol) - toNumber(bCol);\n      }\n    });\n\n  if (reverse) {\n    sorted = sorted.reverse();\n  }\n\n  tBody.append(...sorted);\n}\n\n// select row\n\ntBody.addEventListener('click', (row) => {\n  if (!row.target.closest('TR')) {\n    return;\n  }\n\n  const isActive = tBody.querySelector('.active');\n\n  if (isActive) {\n    isActive.classList.remove('active');\n  }\n  row.target.parentNode.classList.add('active');\n});\n\n// add form\n\nconst form = document.createElement('form');\nconst label = document.createElement('label');\nconst btn = document.createElement('button');\nconst input = document.createElement('input');\nconst selectBar = document.createElement('select');\nconst option = document.createElement('option');\n\ndocument.body.append(form);\nform.classList.add('new-employee-form');\nform.setAttribute('method', 'post');\n\nconst formFields = [...tr.children].map(item => item.innerText);\n\nfor (const item of formFields) {\n  label.textContent = `${item}:`;\n\n  if (item === 'Office') {\n    const cityList = ['Tokyo', 'Singapore', 'London',\n      'New York', 'Edinburgh', 'San Francisco'];\n\n    selectBar.setAttribute('data-qa', `${item.toLowerCase()}`);\n    selectBar.setAttribute('id', 'citySelect');\n\n    for (const city of cityList) {\n      option.setAttribute('value', city);\n      option.textContent = `${city}`;\n      selectBar.append(option.cloneNode(true));\n    }\n\n    label.append(selectBar);\n  } else {\n    input.setAttribute(`name`, `${item.toLowerCase()}`);\n\n    if (item === 'Age' || item === 'Salary') {\n      input.setAttribute('type', 'number');\n    } else {\n      input.setAttribute('type', 'text');\n    }\n\n    input.setAttribute('data-qa', `${item.toLowerCase()}`);\n    label.append(input);\n  };\n  form.append(label.cloneNode(true));\n}\n\nform.append(btn);\n\nbtn.textContent = 'Save to table';\n\nconst inputText = document.querySelectorAll('input');\n\nbtn.addEventListener('click', (event2) => {\n  event2.preventDefault();\n\n  const cityValue = document.querySelector('#citySelect').value;\n\n  const iName = inputText[0].value;\n  const iPosition = inputText[1].value;\n  const iOffice = cityValue;\n  const iAge = inputText[2].value;\n  let iSalary = inputText[3].value;\n\n  if (iName.length < 4) {\n    pushNotification(10, 10, 'Error', 'Please, rewrite the '\n    + '<b>Name</b> to have more than 4 characters', 'error');\n  } else if (iAge < 18 || iAge > 90) {\n    pushNotification(10, 10, 'Error', 'Please, rewrite the '\n    + '<b>Age</b> to have more than 4 characters', 'error');\n  } else if (!iName || !iAge || !iPosition || !iSalary) {\n    pushNotification(10, 10, 'Error', 'Please, fill in all fields', 'error');\n  } else {\n    iSalary = `$${(+iSalary).toLocaleString('ja-JP')}`;\n\n    const row = [iName, iPosition, iOffice, iAge, iSalary];\n\n    const newRow = document.createElement('tr');\n\n    for (let i = 0; i < row.length; i++) {\n      td.textContent = `${row[i]}`;\n      newRow.append(td.cloneNode(true));\n    }\n\n    tBody.append(newRow);\n\n    pushNotification(10, 10, 'Success', 'Congratulations!!! '\n    + 'You add a new employee', 'success');\n\n    inputText.forEach((e) => {\n      e.value = '';\n    });\n  }\n});\n\n// Notification\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const div = document.createElement('div');\n\n  div.classList.add('notification', type);\n  div.innerHTML = `<h2>${title}</h2>` + `<p>${description}</p>`;\n  div.setAttribute('data-qa', 'notification');\n  div.style.top = `${posTop}px`;\n  div.style.right = `${posRight}px`;\n  document.body.append(div);\n\n  setTimeout(() => {\n    div.remove();\n  }, 3000);\n};\n\n// Double-clicking or 'enter' editing\n\ntBody.addEventListener('dblclick', (event3) => {\n  const cell = event3.target;\n\n  if (cell.tagName === 'TD') {\n    const cellText = cell.textContent;\n\n    cell.textContent = '';\n    cell.innerHTML = `<input>`;\n    cell.children[0].classList.add('cell-input');\n\n    const cellInput = tBody.querySelector('.cell-input');\n\n    cellInput.addEventListener('keypress', event4 => {\n      if (event4.key === 'Enter') {\n        const inputValue = cellInput.value;\n\n        if (!inputValue) {\n          cell.textContent = cellText;\n        } else {\n          cell.innerHTML = inputValue;\n        }\n      }\n    });\n\n    cellInput.addEventListener('blur', event5 => {\n      if (event5.target.tagName === 'INPUT') {\n        const inputValue = cellInput.value;\n\n        if (!inputValue) {\n          cell.textContent = cellText;\n        } else {\n          cell.innerHTML = inputValue;\n        }\n      }\n    });\n  }\n});\n"]}